{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"./NativeFileReaderModule","data":{"isAsync":false}},{"name":"./Blob","data":{"isAsync":false}},{"name":"event-target-shim","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/inherits\"));\n\n  var _NativeFileReaderModule = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./NativeFileReaderModule\"));\n\n  var Blob = _$$_REQUIRE(_dependencyMap[7], \"./Blob\");\n\n  var EventTarget = _$$_REQUIRE(_dependencyMap[8], \"event-target-shim\");\n\n  var READER_EVENTS = ['abort', 'error', 'load', 'loadstart', 'loadend', 'progress'];\n  var EMPTY = 0;\n  var LOADING = 1;\n  var DONE = 2;\n\n  var FileReader = function (_ref) {\n    (0, _inherits2.default)(FileReader, _ref);\n\n    function FileReader() {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, FileReader);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(FileReader).call(this));\n      _this.EMPTY = EMPTY;\n      _this.LOADING = LOADING;\n      _this.DONE = DONE;\n      _this._aborted = false;\n      _this._subscriptions = [];\n\n      _this._reset();\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(FileReader, [{\n      key: \"_reset\",\n      value: function _reset() {\n        this._readyState = EMPTY;\n        this._error = null;\n        this._result = null;\n      }\n    }, {\n      key: \"_clearSubscriptions\",\n      value: function _clearSubscriptions() {\n        this._subscriptions.forEach(function (sub) {\n          return sub.remove();\n        });\n\n        this._subscriptions = [];\n      }\n    }, {\n      key: \"_setReadyState\",\n      value: function _setReadyState(newState) {\n        this._readyState = newState;\n        this.dispatchEvent({\n          type: 'readystatechange'\n        });\n\n        if (newState === DONE) {\n          if (this._aborted) {\n            this.dispatchEvent({\n              type: 'abort'\n            });\n          } else if (this._error) {\n            this.dispatchEvent({\n              type: 'error'\n            });\n          } else {\n            this.dispatchEvent({\n              type: 'load'\n            });\n          }\n\n          this.dispatchEvent({\n            type: 'loadend'\n          });\n        }\n      }\n    }, {\n      key: \"readAsArrayBuffer\",\n      value: function readAsArrayBuffer() {\n        throw new Error('FileReader.readAsArrayBuffer is not implemented');\n      }\n    }, {\n      key: \"readAsDataURL\",\n      value: function readAsDataURL(blob) {\n        var _this2 = this;\n\n        this._aborted = false;\n\n        _NativeFileReaderModule.default.readAsDataURL(blob.data).then(function (text) {\n          if (_this2._aborted) {\n            return;\n          }\n\n          _this2._result = text;\n\n          _this2._setReadyState(DONE);\n        }, function (error) {\n          if (_this2._aborted) {\n            return;\n          }\n\n          _this2._error = error;\n\n          _this2._setReadyState(DONE);\n        });\n      }\n    }, {\n      key: \"readAsText\",\n      value: function readAsText(blob) {\n        var _this3 = this;\n\n        var encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'UTF-8';\n        this._aborted = false;\n\n        _NativeFileReaderModule.default.readAsText(blob.data, encoding).then(function (text) {\n          if (_this3._aborted) {\n            return;\n          }\n\n          _this3._result = text;\n\n          _this3._setReadyState(DONE);\n        }, function (error) {\n          if (_this3._aborted) {\n            return;\n          }\n\n          _this3._error = error;\n\n          _this3._setReadyState(DONE);\n        });\n      }\n    }, {\n      key: \"abort\",\n      value: function abort() {\n        this._aborted = true;\n\n        if (this._readyState !== EMPTY && this._readyState !== DONE) {\n          this._reset();\n\n          this._setReadyState(DONE);\n        }\n\n        this._reset();\n      }\n    }, {\n      key: \"readyState\",\n      get: function get() {\n        return this._readyState;\n      }\n    }, {\n      key: \"error\",\n      get: function get() {\n        return this._error;\n      }\n    }, {\n      key: \"result\",\n      get: function get() {\n        return this._result;\n      }\n    }]);\n    return FileReader;\n  }(EventTarget.apply(void 0, READER_EVENTS));\n\n  FileReader.EMPTY = EMPTY;\n  FileReader.LOADING = LOADING;\n  FileReader.DONE = DONE;\n  module.exports = FileReader;\n});","lineCount":182,"map":[[2,0,11,0],[16,0,16,0],[18,0,13,0],[18,6,13,6,"Blob"],[18,10,13,10],[18,13,13,13,"require"],[18,24,13,20],[18,53,13,0],[20,0,14,0],[20,6,14,6,"EventTarget"],[20,17,14,17],[20,20,14,20,"require"],[20,31,14,27],[20,71,14,0],[22,0,25,0],[22,6,25,6,"READER_EVENTS"],[22,19,25,19],[22,22,25,22],[22,23,26,2],[22,30,25,22],[22,32,27,2],[22,39,25,22],[22,41,28,2],[22,47,25,22],[22,49,29,2],[22,60,25,22],[22,62,30,2],[22,71,25,22],[22,73,31,2],[22,83,25,22],[22,84,25,0],[23,0,34,0],[23,6,34,6,"EMPTY"],[23,11,34,11],[23,14,34,14],[23,15,34,0],[24,0,35,0],[24,6,35,6,"LOADING"],[24,13,35,13],[24,16,35,16],[24,17,35,0],[25,0,36,0],[25,6,36,6,"DONE"],[25,10,36,10],[25,13,36,13],[25,14,36,0],[27,6,38,6,"FileReader"],[27,16],[30,0,53,2],[30,26,53,16],[31,0,53,16],[33,0,53,16],[34,0,54,4],[35,0,53,16],[35,12,43,2,"EMPTY"],[35,17,53,16],[35,20,43,18,"EMPTY"],[35,25,53,16],[36,0,53,16],[36,12,44,2,"LOADING"],[36,19,53,16],[36,22,44,20,"LOADING"],[36,29,53,16],[37,0,53,16],[37,12,45,2,"DONE"],[37,16,53,16],[37,19,45,17,"DONE"],[37,23,53,16],[38,0,53,16],[38,12,50,2,"_aborted"],[38,20,53,16],[38,23,50,22],[38,28,53,16],[39,0,53,16],[39,12,51,2,"_subscriptions"],[39,26,53,16],[39,29,51,29],[39,31,53,16],[41,0,55,4],[41,12,55,9,"_reset"],[41,18,55,4],[43,0,53,16],[44,0,56,3],[48,31,58,17],[49,0,59,4],[49,13,59,9,"_readyState"],[49,24,59,4],[49,27,59,23,"EMPTY"],[49,32,59,4],[50,0,60,4],[50,13,60,9,"_error"],[50,19,60,4],[50,22,60,18],[50,26,60,4],[51,0,61,4],[51,13,61,9,"_result"],[51,20,61,4],[51,23,61,19],[51,27,61,4],[52,0,62,3],[55,44,64,30],[56,0,65,4],[56,13,65,9,"_subscriptions"],[56,27,65,4],[56,28,65,24,"forEach"],[56,35,65,4],[56,36,65,32],[56,46,65,32,"sub"],[56,49,65,35],[57,0,65,35],[57,17,65,39,"sub"],[57,20,65,42],[57,21,65,43,"remove"],[57,27,65,39],[57,29,65,35],[58,0,65,35],[58,9,65,4],[60,0,66,4],[60,13,66,9,"_subscriptions"],[60,27,66,4],[60,30,66,26],[60,32,66,4],[61,0,67,3],[64,37,69,17,"newState"],[64,45],[64,47,69,39],[65,0,70,4],[65,13,70,9,"_readyState"],[65,24,70,4],[65,27,70,23,"newState"],[65,35,70,4],[66,0,71,4],[66,13,71,9,"dispatchEvent"],[66,26,71,4],[66,27,71,23],[67,0,71,24,"type"],[67,10,71,24,"type"],[67,14,71,28],[67,16,71,30],[68,0,71,23],[68,9,71,4],[70,0,72,4],[70,12,72,8,"newState"],[70,20,72,16],[70,25,72,21,"DONE"],[70,29,72,4],[70,31,72,27],[71,0,73,6],[71,14,73,10],[71,19,73,15,"_aborted"],[71,27,73,6],[71,29,73,25],[72,0,74,8],[72,17,74,13,"dispatchEvent"],[72,30,74,8],[72,31,74,27],[73,0,74,28,"type"],[73,14,74,28,"type"],[73,18,74,32],[73,20,74,34],[74,0,74,27],[74,13,74,8],[75,0,75,7],[75,11,73,6],[75,17,75,13],[75,21,75,17],[75,26,75,22,"_error"],[75,32,75,13],[75,34,75,30],[76,0,76,8],[76,17,76,13,"dispatchEvent"],[76,30,76,8],[76,31,76,27],[77,0,76,28,"type"],[77,14,76,28,"type"],[77,18,76,32],[77,20,76,34],[78,0,76,27],[78,13,76,8],[79,0,77,7],[79,11,75,13],[79,17,77,13],[80,0,78,8],[80,17,78,13,"dispatchEvent"],[80,30,78,8],[80,31,78,27],[81,0,78,28,"type"],[81,14,78,28,"type"],[81,18,78,32],[81,20,78,34],[82,0,78,27],[82,13,78,8],[83,0,79,7],[85,0,80,6],[85,15,80,11,"dispatchEvent"],[85,28,80,6],[85,29,80,25],[86,0,80,26,"type"],[86,12,80,26,"type"],[86,16,80,30],[86,18,80,32],[87,0,80,25],[87,11,80,6],[88,0,81,5],[89,0,82,3],[92,42,84,22],[93,0,85,4],[93,14,85,10],[93,18,85,14,"Error"],[93,23,85,10],[93,24,85,20],[93,73,85,10],[93,74,85,4],[94,0,86,3],[97,36,88,16,"blob"],[97,40],[97,42,88,28],[98,0,88,28],[100,0,89,4],[100,13,89,9,"_aborted"],[100,21,89,4],[100,24,89,20],[100,29,89,4],[102,0,91,4,"NativeFileReaderModule"],[102,40,91,27,"readAsDataURL"],[102,53,91,4],[102,54,91,41,"blob"],[102,58,91,45],[102,59,91,46,"data"],[102,63,91,4],[102,65,91,52,"then"],[102,69,91,4],[102,70,92,6],[102,80,92,7,"text"],[102,84,92,6],[102,86,92,24],[103,0,93,8],[103,14,93,12],[103,20,93,16],[103,21,93,17,"_aborted"],[103,29,93,8],[103,31,93,27],[104,0,94,10],[105,0,95,9],[107,0,96,8],[107,10,96,8],[107,16,96,12],[107,17,96,13,"_result"],[107,24,96,8],[107,27,96,23,"text"],[107,31,96,8],[109,0,97,8],[109,10,97,8],[109,16,97,12],[109,17,97,13,"_setReadyState"],[109,31,97,8],[109,32,97,28,"DONE"],[109,36,97,8],[110,0,98,7],[110,9,91,4],[110,11,99,6],[110,21,99,6,"error"],[110,26,99,11],[110,28,99,15],[111,0,100,8],[111,14,100,12],[111,20,100,16],[111,21,100,17,"_aborted"],[111,29,100,8],[111,31,100,27],[112,0,101,10],[113,0,102,9],[115,0,103,8],[115,10,103,8],[115,16,103,12],[115,17,103,13,"_error"],[115,23,103,8],[115,26,103,22,"error"],[115,31,103,8],[117,0,104,8],[117,10,104,8],[117,16,104,12],[117,17,104,13,"_setReadyState"],[117,31,104,8],[117,32,104,28,"DONE"],[117,36,104,8],[118,0,105,7],[118,9,91,4],[119,0,107,3],[122,33,109,13,"blob"],[122,37],[122,39,109,53],[123,0,109,53],[125,0,109,53],[125,12,109,25,"encoding"],[125,20,109,53],[125,91,109,44],[125,98,109,53],[126,0,110,4],[126,13,110,9,"_aborted"],[126,21,110,4],[126,24,110,20],[126,29,110,4],[128,0,112,4,"NativeFileReaderModule"],[128,40,112,27,"readAsText"],[128,50,112,4],[128,51,112,38,"blob"],[128,55,112,42],[128,56,112,43,"data"],[128,60,112,4],[128,62,112,49,"encoding"],[128,70,112,4],[128,72,112,59,"then"],[128,76,112,4],[128,77,113,6],[128,87,113,7,"text"],[128,91,113,6],[128,93,113,24],[129,0,114,8],[129,14,114,12],[129,20,114,16],[129,21,114,17,"_aborted"],[129,29,114,8],[129,31,114,27],[130,0,115,10],[131,0,116,9],[133,0,117,8],[133,10,117,8],[133,16,117,12],[133,17,117,13,"_result"],[133,24,117,8],[133,27,117,23,"text"],[133,31,117,8],[135,0,118,8],[135,10,118,8],[135,16,118,12],[135,17,118,13,"_setReadyState"],[135,31,118,8],[135,32,118,28,"DONE"],[135,36,118,8],[136,0,119,7],[136,9,112,4],[136,11,120,6],[136,21,120,6,"error"],[136,26,120,11],[136,28,120,15],[137,0,121,8],[137,14,121,12],[137,20,121,16],[137,21,121,17,"_aborted"],[137,29,121,8],[137,31,121,27],[138,0,122,10],[139,0,123,9],[141,0,124,8],[141,10,124,8],[141,16,124,12],[141,17,124,13,"_error"],[141,23,124,8],[141,26,124,22,"error"],[141,31,124,8],[143,0,125,8],[143,10,125,8],[143,16,125,12],[143,17,125,13,"_setReadyState"],[143,31,125,8],[143,32,125,28,"DONE"],[143,36,125,8],[144,0,126,7],[144,9,112,4],[145,0,128,3],[148,30,130,10],[149,0,131,4],[149,13,131,9,"_aborted"],[149,21,131,4],[149,24,131,20],[149,28,131,4],[151,0,133,4],[151,12,133,8],[151,17,133,13,"_readyState"],[151,28,133,8],[151,33,133,29,"EMPTY"],[151,38,133,8],[151,42,133,38],[151,47,133,43,"_readyState"],[151,58,133,38],[151,63,133,59,"DONE"],[151,67,133,4],[151,69,133,65],[152,0,134,6],[152,15,134,11,"_reset"],[152,21,134,6],[154,0,135,6],[154,15,135,11,"_setReadyState"],[154,29,135,6],[154,30,135,26,"DONE"],[154,34,135,6],[155,0,136,5],[157,0,138,4],[157,13,138,9,"_reset"],[157,19,138,4],[158,0,139,3],[161,26,141,31],[162,0,142,4],[162,15,142,11],[162,20,142,16,"_readyState"],[162,31,142,4],[163,0,143,3],[166,26,145,22],[167,0,146,4],[167,15,146,11],[167,20,146,16,"_error"],[167,26,146,4],[168,0,147,3],[171,26,149,30],[172,0,150,4],[172,15,150,11],[172,20,150,16,"_result"],[172,27,150,4],[173,0,151,3],[176,4,38,26,"EventTarget"],[176,15,38,37],[176,21,38,26],[176,30,38,41,"READER_EVENTS"],[176,43,38,26],[176,44],[178,0,38,6,"FileReader"],[178,2,38,6,"FileReader"],[178,12],[178,13,39,9,"EMPTY"],[178,18],[178,21,39,25,"EMPTY"],[178,26],[179,0,38,6,"FileReader"],[179,2,38,6,"FileReader"],[179,12],[179,13,40,9,"LOADING"],[179,20],[179,23,40,27,"LOADING"],[179,30],[180,0,38,6,"FileReader"],[180,2,38,6,"FileReader"],[180,12],[180,13,41,9,"DONE"],[180,17],[180,20,41,24,"DONE"],[180,24],[181,0,154,0,"module"],[181,2,154,0,"module"],[181,8,154,6],[181,9,154,7,"exports"],[181,16,154,0],[181,19,154,17,"FileReader"],[181,29,154,0]],"functionMap":{"names":["<global>","FileReader","constructor","_reset","_clearSubscriptions","_subscriptions.forEach$argument_0","_setReadyState","readAsArrayBuffer","readAsDataURL","NativeFileReaderModule.readAsDataURL.then$argument_0","NativeFileReaderModule.readAsDataURL.then$argument_1","readAsText","NativeFileReaderModule.readAsText.then$argument_0","NativeFileReaderModule.readAsText.then$argument_1","abort","get__readyState","get__error","get__result"],"mappings":"AAA;ACqC;ECe;GDG;EEE;GFI;EGE;gCCC,mBD;GHE;EKE;GLa;EME;GNE;EOE;MCI;ODM;MEC;OFM;GPE;EUE;MCI;ODM;MEC;OFM;GVE;EaE;GbS;EcE;GdE;EeE;GfE;EgBE;GhBE;CDC"}},"type":"js/module"}]}
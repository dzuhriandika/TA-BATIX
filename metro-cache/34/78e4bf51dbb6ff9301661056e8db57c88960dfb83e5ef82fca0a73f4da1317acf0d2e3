{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"./NativeAppState","data":{"isAsync":false}},{"name":"../vendor/emitter/EventEmitter","data":{"isAsync":false}},{"name":"../EventEmitter/NativeEventEmitter","data":{"isAsync":false}},{"name":"../Utilities/logError","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf3 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/inherits\"));\n\n  var _NativeAppState = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./NativeAppState\"));\n\n  var EventEmitter = _$$_REQUIRE(_dependencyMap[7], \"../vendor/emitter/EventEmitter\");\n\n  var NativeEventEmitter = _$$_REQUIRE(_dependencyMap[8], \"../EventEmitter/NativeEventEmitter\");\n\n  var logError = _$$_REQUIRE(_dependencyMap[9], \"../Utilities/logError\");\n\n  var invariant = _$$_REQUIRE(_dependencyMap[10], \"invariant\");\n\n  var AppState = function (_NativeEventEmitter) {\n    (0, _inherits2.default)(AppState, _NativeEventEmitter);\n\n    function AppState() {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, AppState);\n      _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf3.default)(AppState).call(this, _NativeAppState.default));\n      _this._supportedEvents = ['change', 'memoryWarning', 'blur', 'focus'];\n      _this.isAvailable = true;\n      _this._eventHandlers = _this._supportedEvents.reduce(function (handlers, key) {\n        handlers[key] = new Map();\n        return handlers;\n      }, {});\n      _this.currentState = _NativeAppState.default.getConstants().initialAppState;\n      var eventUpdated = false;\n\n      _this.addListener('appStateDidChange', function (appStateData) {\n        eventUpdated = true;\n        _this.currentState = appStateData.app_state;\n      });\n\n      _NativeAppState.default.getCurrentAppState(function (appStateData) {\n        if (!eventUpdated && _this.currentState !== appStateData.app_state) {\n          _this.currentState = appStateData.app_state;\n\n          _this.emit('appStateDidChange', appStateData);\n        }\n      }, logError);\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(AppState, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, handler) {\n        invariant(this._supportedEvents.indexOf(type) !== -1, 'Trying to subscribe to unknown event: \"%s\"', type);\n\n        switch (type) {\n          case 'change':\n            {\n              this._eventHandlers[type].set(handler, this.addListener('appStateDidChange', function (appStateData) {\n                handler(appStateData.app_state);\n              }));\n\n              break;\n            }\n\n          case 'memoryWarning':\n            {\n              this._eventHandlers[type].set(handler, this.addListener('memoryWarning', handler));\n\n              break;\n            }\n\n          case 'blur':\n          case 'focus':\n            {\n              this._eventHandlers[type].set(handler, this.addListener('appStateFocusChange', function (hasFocus) {\n                if (type === 'blur' && !hasFocus) {\n                  handler();\n                }\n\n                if (type === 'focus' && hasFocus) {\n                  handler();\n                }\n              }));\n            }\n        }\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, handler) {\n        invariant(this._supportedEvents.indexOf(type) !== -1, 'Trying to remove listener for unknown event: \"%s\"', type);\n\n        if (!this._eventHandlers[type].has(handler)) {\n          return;\n        }\n\n        this._eventHandlers[type].get(handler).remove();\n\n        this._eventHandlers[type].delete(handler);\n      }\n    }]);\n    return AppState;\n  }(NativeEventEmitter);\n\n  function throwMissingNativeModule() {\n    invariant(false, 'Cannot use AppState module when native RCTAppState is not included in the build.\\n' + 'Either include it, or check AppState.isAvailable before calling any methods.');\n  }\n\n  var MissingNativeAppStateShim = function (_EventEmitter) {\n    (0, _inherits2.default)(MissingNativeAppStateShim, _EventEmitter);\n\n    function MissingNativeAppStateShim() {\n      var _getPrototypeOf2;\n\n      var _this2;\n\n      (0, _classCallCheck2.default)(this, MissingNativeAppStateShim);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this2 = (0, _possibleConstructorReturn2.default)(this, (_getPrototypeOf2 = (0, _getPrototypeOf3.default)(MissingNativeAppStateShim)).call.apply(_getPrototypeOf2, [this].concat(args)));\n      _this2.isAvailable = false;\n      _this2.currentState = null;\n      return _this2;\n    }\n\n    (0, _createClass2.default)(MissingNativeAppStateShim, [{\n      key: \"addEventListener\",\n      value: function addEventListener() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners() {\n        throwMissingNativeModule();\n      }\n    }, {\n      key: \"removeSubscription\",\n      value: function removeSubscription() {\n        throwMissingNativeModule();\n      }\n    }]);\n    return MissingNativeAppStateShim;\n  }(EventEmitter);\n\n  if (_NativeAppState.default) {\n    AppState = new AppState();\n  } else {\n    AppState = new MissingNativeAppStateShim();\n  }\n\n  module.exports = AppState;\n});","lineCount":173,"map":[[2,0,11,0],[16,0,15,0],[18,0,13,0],[18,6,13,6,"EventEmitter"],[18,18,13,18],[18,21,13,21,"require"],[18,32,13,28],[18,85,13,0],[20,0,14,0],[20,6,14,6,"NativeEventEmitter"],[20,24,14,24],[20,27,14,27,"require"],[20,38,14,34],[20,95,14,0],[22,0,17,0],[22,6,17,6,"logError"],[22,14,17,14],[22,17,17,17,"require"],[22,28,17,24],[22,72,17,0],[24,0,18,0],[24,6,18,6,"invariant"],[24,15,18,15],[24,18,18,18,"require"],[24,29,18,25],[24,62,18,0],[26,6,26,6,"AppState"],[26,14],[29,0,32,2],[29,24,32,16],[30,0,32,16],[32,0,32,16],[33,0,33,4],[33,112,33,10,"NativeAppState"],[33,135,33,4],[34,0,32,16],[34,12,28,2,"_supportedEvents"],[34,28,32,16],[34,31,28,21],[34,32,28,22],[34,40,28,21],[34,42,28,32],[34,57,28,21],[34,59,28,49],[34,65,28,21],[34,67,28,57],[34,74,28,21],[34,75,32,16],[35,0,35,4],[35,12,35,9,"isAvailable"],[35,23,35,4],[35,26,35,23],[35,30,35,4],[36,0,36,4],[36,12,36,9,"_eventHandlers"],[36,26,36,4],[36,29,36,26],[36,35,36,31,"_supportedEvents"],[36,51,36,26],[36,52,36,48,"reduce"],[36,58,36,26],[36,59,36,55],[36,69,36,56,"handlers"],[36,77,36,55],[36,79,36,66,"key"],[36,82,36,55],[36,84,36,74],[37,0,37,6,"handlers"],[37,8,37,6,"handlers"],[37,16,37,14],[37,17,37,15,"key"],[37,20,37,14],[37,21,37,6],[37,24,37,22],[37,28,37,26,"Map"],[37,31,37,22],[37,33,37,6],[38,0,38,6],[38,15,38,13,"handlers"],[38,23,38,6],[39,0,39,5],[39,7,36,26],[39,9,39,7],[39,11,36,26],[39,12,36,4],[40,0,41,4],[40,12,41,9,"currentState"],[40,24,41,4],[40,27,41,24,"NativeAppState"],[40,51,41,39,"getConstants"],[40,63,41,24],[40,66,41,54,"initialAppState"],[40,81,41,4],[41,0,43,4],[41,10,43,8,"eventUpdated"],[41,22,43,20],[41,25,43,23],[41,30,43,4],[43,0,49,4],[43,12,49,9,"addListener"],[43,23,49,4],[43,24,49,21],[43,43,49,4],[43,45,49,42],[43,55,49,42,"appStateData"],[43,67,49,54],[43,69,49,58],[44,0,50,6,"eventUpdated"],[44,8,50,6,"eventUpdated"],[44,20,50,18],[44,23,50,21],[44,27,50,6],[45,0,51,6],[45,14,51,11,"currentState"],[45,26,51,6],[45,29,51,26,"appStateData"],[45,41,51,38],[45,42,51,39,"app_state"],[45,51,51,6],[46,0,52,5],[46,7,49,4],[48,0,57,4,"NativeAppState"],[48,30,57,19,"getCurrentAppState"],[48,48,57,4],[48,49,57,38],[48,59,57,38,"appStateData"],[48,71,57,50],[48,73,57,54],[49,0,59,6],[49,12,59,10],[49,13,59,11,"eventUpdated"],[49,25,59,10],[49,29,59,27],[49,35,59,32,"currentState"],[49,47,59,27],[49,52,59,49,"appStateData"],[49,64,59,61],[49,65,59,62,"app_state"],[49,74,59,6],[49,76,59,73],[50,0,60,8],[50,16,60,13,"currentState"],[50,28,60,8],[50,31,60,28,"appStateData"],[50,43,60,40],[50,44,60,41,"app_state"],[50,53,60,8],[52,0,61,8],[52,16,61,13,"emit"],[52,20,61,8],[52,21,61,18],[52,40,61,8],[52,42,61,39,"appStateData"],[52,54,61,8],[53,0,62,7],[54,0,63,5],[54,7,57,4],[54,9,63,7,"logError"],[54,17,57,4],[56,0,32,16],[57,0,64,3],[61,39,77,19,"type"],[61,43],[61,45,77,33,"handler"],[61,52],[61,54,77,52],[62,0,78,4,"invariant"],[62,8,78,4,"invariant"],[62,17,78,13],[62,18,79,6],[62,23,79,11,"_supportedEvents"],[62,39,79,6],[62,40,79,28,"indexOf"],[62,47,79,6],[62,48,79,36,"type"],[62,52,79,6],[62,58,79,46],[62,59,79,47],[62,60,78,13],[62,62,80,6],[62,106,78,13],[62,108,81,6,"type"],[62,112,78,13],[62,113,78,4],[64,0,84,4],[64,16,84,12,"type"],[64,20,84,4],[65,0,85,6],[65,15,85,11],[65,23,85,6],[66,0,85,21],[67,0,86,8],[67,19,86,13,"_eventHandlers"],[67,33,86,8],[67,34,86,28,"type"],[67,38,86,8],[67,40,86,34,"set"],[67,43,86,8],[67,44,87,10,"handler"],[67,51,86,8],[67,53,88,10],[67,58,88,15,"addListener"],[67,69,88,10],[67,70,88,27],[67,89,88,10],[67,91,88,48],[67,101,88,48,"appStateData"],[67,113,88,60],[67,115,88,64],[68,0,89,12,"handler"],[68,16,89,12,"handler"],[68,23,89,19],[68,24,89,20,"appStateData"],[68,36,89,32],[68,37,89,33,"app_state"],[68,46,89,19],[68,47,89,12],[69,0,90,11],[69,15,88,10],[69,16,86,8],[71,0,92,8],[72,0,93,7],[74,0,94,6],[74,15,94,11],[74,30,94,6],[75,0,94,28],[76,0,95,8],[76,19,95,13,"_eventHandlers"],[76,33,95,8],[76,34,95,28,"type"],[76,38,95,8],[76,40,95,34,"set"],[76,43,95,8],[76,44,96,10,"handler"],[76,51,95,8],[76,53,97,10],[76,58,97,15,"addListener"],[76,69,97,10],[76,70,97,27],[76,85,97,10],[76,87,97,44,"handler"],[76,94,97,10],[76,95,95,8],[78,0,99,8],[79,0,100,7],[81,0,102,6],[81,15,102,11],[81,21,102,6],[82,0,103,6],[82,15,103,11],[82,22,103,6],[83,0,103,20],[84,0,104,8],[84,19,104,13,"_eventHandlers"],[84,33,104,8],[84,34,104,28,"type"],[84,38,104,8],[84,40,104,34,"set"],[84,43,104,8],[84,44,105,10,"handler"],[84,51,104,8],[84,53,106,10],[84,58,106,15,"addListener"],[84,69,106,10],[84,70,106,27],[84,91,106,10],[84,93,106,50],[84,103,106,50,"hasFocus"],[84,111,106,58],[84,113,106,62],[85,0,107,12],[85,20,107,16,"type"],[85,24,107,20],[85,29,107,25],[85,35,107,16],[85,39,107,35],[85,40,107,36,"hasFocus"],[85,48,107,12],[85,50,107,46],[86,0,108,14,"handler"],[86,18,108,14,"handler"],[86,25,108,21],[87,0,109,13],[89,0,110,12],[89,20,110,16,"type"],[89,24,110,20],[89,29,110,25],[89,36,110,16],[89,40,110,36,"hasFocus"],[89,48,110,12],[89,50,110,46],[90,0,111,14,"handler"],[90,18,111,14,"handler"],[90,25,111,21],[91,0,112,13],[92,0,113,11],[92,15,106,10],[92,16,104,8],[93,0,115,7],[94,0,84,4],[95,0,117,3],[98,42,124,22,"type"],[98,46],[98,48,124,36,"handler"],[98,55],[98,57,124,55],[99,0,125,4,"invariant"],[99,8,125,4,"invariant"],[99,17,125,13],[99,18,126,6],[99,23,126,11,"_supportedEvents"],[99,39,126,6],[99,40,126,28,"indexOf"],[99,47,126,6],[99,48,126,36,"type"],[99,52,126,6],[99,58,126,46],[99,59,126,47],[99,60,125,13],[99,62,127,6],[99,113,125,13],[99,115,128,6,"type"],[99,119,125,13],[99,120,125,4],[101,0,130,4],[101,12,130,8],[101,13,130,9],[101,18,130,14,"_eventHandlers"],[101,32,130,9],[101,33,130,29,"type"],[101,37,130,9],[101,39,130,35,"has"],[101,42,130,9],[101,43,130,39,"handler"],[101,50,130,9],[101,51,130,4],[101,53,130,49],[102,0,131,6],[103,0,132,5],[105,0,133,4],[105,13,133,9,"_eventHandlers"],[105,27,133,4],[105,28,133,24,"type"],[105,32,133,4],[105,34,133,30,"get"],[105,37,133,4],[105,38,133,34,"handler"],[105,45,133,4],[105,47,133,43,"remove"],[105,53,133,4],[107,0,134,4],[107,13,134,9,"_eventHandlers"],[107,27,134,4],[107,28,134,24,"type"],[107,32,134,4],[107,34,134,30,"delete"],[107,40,134,4],[107,41,134,37,"handler"],[107,48,134,4],[108,0,135,3],[111,4,26,23,"NativeEventEmitter"],[111,22],[113,0,138,0],[113,11,138,9,"throwMissingNativeModule"],[113,35,138,0],[113,38,138,36],[114,0,139,2,"invariant"],[114,4,139,2,"invariant"],[114,13,139,11],[114,14,140,4],[114,19,139,11],[114,21,141,4],[114,108,142,6],[114,186,139,11],[114,187,139,2],[115,0,144,1],[117,6,146,6,"MissingNativeAppStateShim"],[117,31],[132,13,148,2,"isAvailable"],[132,24],[132,27,148,25],[132,32],[133,13,149,2,"currentState"],[133,25],[133,28,149,26],[133,32],[139,41,151,21],[140,0,152,4,"throwMissingNativeModule"],[140,8,152,4,"throwMissingNativeModule"],[140,32,152,28],[141,0,153,3],[144,44,155,24],[145,0,156,4,"throwMissingNativeModule"],[145,8,156,4,"throwMissingNativeModule"],[145,32,156,28],[146,0,157,3],[149,36,160,16],[150,0,161,4,"throwMissingNativeModule"],[150,8,161,4,"throwMissingNativeModule"],[150,32,161,28],[151,0,162,3],[154,43,164,23],[155,0,165,4,"throwMissingNativeModule"],[155,8,165,4,"throwMissingNativeModule"],[155,32,165,28],[156,0,166,3],[159,43,168,23],[160,0,169,4,"throwMissingNativeModule"],[160,8,169,4,"throwMissingNativeModule"],[160,32,169,28],[161,0,170,3],[164,4,146,40,"EventEmitter"],[164,16],[166,0,176,0],[166,6,176,4,"NativeAppState"],[166,29,176,0],[166,31,176,20],[167,0,177,2,"AppState"],[167,4,177,2,"AppState"],[167,12,177,10],[167,15,177,13],[167,19,177,17,"AppState"],[167,27,177,13],[167,29,177,2],[168,0,178,1],[168,3,176,0],[168,9,178,7],[169,0,179,2,"AppState"],[169,4,179,2,"AppState"],[169,12,179,10],[169,15,179,13],[169,19,179,17,"MissingNativeAppStateShim"],[169,44,179,13],[169,46,179,2],[170,0,180,1],[172,0,182,0,"module"],[172,2,182,0,"module"],[172,8,182,6],[172,9,182,7,"exports"],[172,16,182,0],[172,19,182,17,"AppState"],[172,27,182,0]],"functionMap":{"names":["<global>","AppState","constructor","_supportedEvents.reduce$argument_0","addListener$argument_1","NativeAppState.getCurrentAppState$argument_0","addEventListener","removeEventListener","throwMissingNativeModule","MissingNativeAppStateShim","MissingNativeAppStateShim#addEventListener","MissingNativeAppStateShim#removeEventListener","MissingNativeAppStateShim#addListener","MissingNativeAppStateShim#removeAllListeners","MissingNativeAppStateShim#removeSubscription"],"mappings":"AAA;ACyB;ECM;uDCI;KDG;0CEU;KFG;sCGK;KHM;GDC;EKa;gDFW;WEE;kDFgB;WEO;GLI;EMO;GNW;CDC;AQE;CRM;ASE;ECK;GDE;EEE;GFE;EGG;GHE;EIE;GJE;EKE;GLE;CTC"}},"type":"js/module"}]}